version: "3.8"  # Define the Docker Compose file format version

services:       # Define the services (containers)
  user-service: # Name of the service
    build:      # Build instructions
      context: ./services/user-service  # Path to the Dockerfile
    ports:
      - "3000:3000"  # Map port 3000 of the container to 3000 on the host
    environment:
      - PORT=${USER_PORT}
      - NODE_ENV=dev
      - CRYPT_KEY=${USER_CRYPT_KEY}
      - DB_NAME=${USER_DB_NAME}
      - MONGO_URL=${USER_MONGO_URL}
    volumes:
      - ./services/user-service:/usr/src/app  # Mount local directory for development purposes

networks:        # Define networks
  default:
    driver: bridge
